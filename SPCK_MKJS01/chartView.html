<html>
<head>
    <link rel="stylesheet" href="./style.css">
    <script src="nav.js"></script>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script src="exchangeInfo.js"></script>
    <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
</head>
<body>
    <div class="wrapper">
        <div class="sidebar">
            <h2>Sidebar</h2>
            <ul>
                <li><a href="./news.html"><i class="fas fa-home"></i>Home</a></li>
                <li><a href="./"><i class="fas fa-user"></i>Ranking</a></li>
                <li><a href="index.html"><i class="fas fa-address-card"></i>Chart view</a></li>
                <li><a href="portfolio.html"><i class="fas fa-project-diagram"></i>portfolio</a></li>
                <li><a href="#"><i class="fas fa-blog"></i>Blogs</a></li>
                <li><a href="#"><i class="fas fa-address-book"></i>Contact</a></li>
                <li><a href="#"><i class="fas fa-map-pin"></i>Map</a></li>
            </ul> 
            <div class="social_media">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
        <div class="main_content">
            <div class="header">Welcome!! Have a nice day.</div>  
            <div class="info">
              <div><select onChange="LoadCharts();" id="pairs">
                <!--    <option value="BTCUSDT">BTCUSDT</option>
                    <option value="ETHUSDT">ETHUSDT</option>-->
                </select>
                <br>
                <div class="tradingview-widget-container" id="tvchart"></div></div>
          </div>
        </div>
    </div>

</body>
<script>


//PASS ALL THE SYMBOLS 
var sym = exchangeInfo.symbols,markup='';
sym.forEach(d => {
    markup += '<option value="' + d.symbol + '">' + d.symbol + '</option>';
});
document.getElementById('pairs').innerHTML = markup;
  
LoadCharts();    
function LoadCharts(){
    let symbol = document.getElementById('pairs').value;
    //RENDER CHART
    new TradingView.widget(
      {
  "autosize": true,
  "symbol": "BINANCE:" + symbol,
  "interval": "5",
  "timezone": "Asia/Kolkata",
  "theme": "Light",
  "style": "1",
  "locale": "in",
  "toolbar_bg": "#f1f3f6",
  "enable_publishing": false,
  "allow_symbol_change": true,
  "studies": [
    "AwesomeOscillator@tv-basicstudies",
    "MACD@tv-basicstudies",
    "RSI@tv-basicstudies"
  ],
  "container_id": "tvchart"
    });
}
    
</script>
</html>